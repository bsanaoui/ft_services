# This is a default site configuration which will simply return 404, preventing
# chance access to any other virtualhost.

server {
	listen 80;
	return 301 https://$host;
}


server {

        listen 443 ssl;
	ssl_certificate /etc/ssl/certs/nginx.crt;
	ssl_certificate_key /etc/ssl/private/nginx.key;

        root /var/www/localhost/html;
        index index.html;
        # Everything is a 404
        location / {
        }

        # You may need this to prevent return 404 recursion.
        location = /404.html {
                internal;
        }

        location /phpmyadmin/ {
                proxy_pass http://phpmyadmin:5000/;
        }

        location /wordpress {
                return 307 http://$host:5050/;
        }
}